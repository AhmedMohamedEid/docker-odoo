<?xml version="1.0" encoding="UTF-8"?>
	<templates id="pos_product_bundle_pack_template" inherit_id="point_of_sale.template" xml:space="preserve">


  
  <!-- Product WIdget -->
   

		<t t-extend="Product">
			<t t-jquery=".product-img" t-operation="append">
				<t t-if="product.is_pack">
					<div class="product-bundle-pack" style="position: absolute; box-sizing: border-box; bottom: 0;top: 65px; line-height: 15px; width: 100%; height: 30px; overflow: hidden; text-overflow: ellipsis; background: #FD142A; color: #fff; padding: 3px; padding-top: 5px;">
					Pack Product
					</div>
				</t>
			   
			</t>
		</t>

   
  <!-- Orderline WIdget -->
	 
   <t t-extend="Orderline">
		<t t-jquery=".info" t-operation="after">
			<t t-if="line.get_product_bundle_pack()">
				<ul class="info-list">
					<t t-foreach="line.get_product_bundle_pack()" t-as="orderline">
						<span class="product-name">
							<t t-esc='orderline.product.display_name' />
						</span>
						<li class="info">
							<em>
								<t t-esc='orderline.product.qty_uom' />
							</em>
							<t t-esc='orderline.product.uom_id[1]' />
							at
							<t t-esc='widget.format_currency(orderline.product.price)' />
							/
							 <t t-esc='orderline.product.uom_id[1]' />
						</li>
				  	</t>
				</ul>
			</t>
		</t>
	</t>

		<!-- Pass Bundle Pack Products in PosTicket -->
		<t t-extend="PosTicket">
			
			<t t-jquery="table[class*='receipt-orderlines']" t-operation="replace">

				<table class='receipt-orderlines'>
					<colgroup>
						<col width='50%' />
						<col width='25%' />
						<col width='25%' />
					</colgroup>
					<tr t-foreach="orderlines" t-as="orderline">
						<td>
							<b>
								<t t-esc="orderline.get_product().display_name"/>
							</b>
							<t t-if="widget.pos.config.bundle_print == 'with_products'">
								<t t-if="orderline.get_product_bundle_pack()">
									<ul class="info-list" style="margin-left: 10px;">
										<t t-foreach="orderline.get_product_bundle_pack()" t-as="line">
											<b class="product-name">
												<t t-esc='line.product.display_name' />
											</b>
											<li class="info">
												<em>
													<t t-esc='line.product.qty_uom' />
												</em>
												<t t-esc='line.product.uom_id[1]' />
												at
												<t t-esc='widget.format_currency(line.product.price)' />
											</li>
											
										  </t>
									</ul>
								</t>
							</t>
							
							<t t-if="orderline.get_discount() > 0">
								<div class="pos-disc-font">
									With a <t t-esc="orderline.get_discount()"/>% discount
								</div>
							</t>
						</td>
						<td class="pos-right-align">
							<t t-esc="orderline.get_quantity_str_with_unit()"/>
						</td>
						<td class="pos-right-align">
							<t t-esc="widget.format_currency(orderline.get_display_price())"/>
						</td>
					</tr>
				</table>

			</t>
	   
		</t> 
	
	</templates>
	
	
